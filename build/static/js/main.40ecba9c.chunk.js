(this.webpackJsonpresort=this.webpackJsonpresort||[]).push([[0],{195:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),s=c(80),i=c.n(s);c(97);function o(e){var t=e.children,c=e.hero;return Object(n.jsx)("header",{className:c,children:t})}o.defaultProps={hero:"defaultHero"};var j=o;function l(e){var t=e.children,c=e.title,a=e.subtitle;return Object(n.jsxs)("div",{className:"banner",children:[Object(n.jsx)("h1",{children:c}),Object(n.jsx)("div",{}),Object(n.jsx)("p",{children:a}),t]})}var d=c(5),b=c(12),m=c(13),u=c(15),h=c(14);var O=function(e){var t=e.title;return Object(n.jsxs)("div",{className:"section-title",children:[Object(n.jsxs)("h4",{children:[" ",t]}),Object(n.jsx)("div",{})]})},x=c(19),p=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(b.a)(this,c);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={services:[{icon:Object(n.jsx)(x.c,{}),title:"Free cocktails",info:"kajnd akdn knd kadsb kkd kdbkbdkabdeakj kjasdkandkad adbkabd kjabdkj kad kjabd kadbsd kj"},{icon:Object(n.jsx)(x.d,{}),title:"Endless Hiking",info:"kajnd akdn knd kadsb kkd kdbkbdkabdeakj kjasdkandkad adbkabd kjabdkj kad kjabd kadbsd kj"},{icon:Object(n.jsx)(x.e,{}),title:"Free shutlle van",info:"kajnd akdn knd kadsb kkd kdbkbdkabdeakj kjasdkandkad adbkabd kjabdkj kad kjabd kadbsd kj"},{icon:Object(n.jsx)(x.b,{}),title:"Free beer",info:"kajnd akdn knd kadsb kkd kdbkbdkabdeakj kjasdkandkad adbkabd kjabdkj kad kjabd kadbsd kj"}]},e}return Object(m.a)(c,[{key:"render",value:function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)(O,{title:"Services"}),Object(n.jsx)("div",{className:"services-center",children:this.state.services.map((function(e,t){return Object(n.jsxs)("article",{className:"service",children:[Object(n.jsx)("span",{children:e.icon}),Object(n.jsx)("h6",{children:e.title}),Object(n.jsx)("p",{children:e.info})]},t)}))})]})}}]),c}(a.Component),f=c(20),k=c(31),v=c(48),g=c.n(v),N=c(16),y=c(81),S=c(91),C=Object(S.a)({space:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SPACE,accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ACCESS_TOKEN}),R=r.a.createContext(),T=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(b.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(y.a)(g.a.mark((function t(){var c,n,a,r,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.getEntries({content_type:"beachResortRoom"});case 3:c=t.sent,n=e.formatData(c.items),a=(n||[]).filter((function(e){return!0===e.featured})),r=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.price})))),s=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.size})))),e.setState({rooms:n,featuredRooms:a,sortedRooms:n,loading:!1,price:r,maxPrice:r,maxSize:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(N.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var c=t.target,n="checkbox"===c.type?c.checked:c.value,a=t.target.name;e.setState(Object(k.a)({},a,n),e.filterRooms)},e.filterRooms=function(){var t=e.state,c=t.rooms,n=t.type,a=t.capacity,r=t.price,s=t.minSize,i=t.maxSize,o=t.breakfast,j=t.pets,l=Object(N.a)(c);a=parseInt(a),r=parseInt(r),"all"!==n&&(l=l.filter((function(e){return e.type===n}))),1!==a&&(l=l.filter((function(e){return e.capacity>=a}))),l=(l=l.filter((function(e){return e.price<=r}))).filter((function(e){return e.size>=s&&e.size<=i})),o&&(l=l.filter((function(e){return!0===e.breakfast}))),j&&(l=l.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:l})},e}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,c=e.fields.images.map((function(e){return e.fields.file.url})),n=Object(f.a)(Object(f.a)({},e.fields),{},{images:c,id:t});return console.log(n),n}))}},{key:"render",value:function(){return Object(n.jsx)(R.Provider,{value:Object(f.a)(Object(f.a)({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange}),children:this.props.children})}}]),c}(a.Component),_=R.Consumer;var F=c.p+"static/media/loading-arrow.dd29210f.gif";var E=function(){return Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("h4",{children:"Data is loading..."}),Object(n.jsx)("img",{src:F,alt:"loading"})]})};var P=function(e){var t=e.room,c=t.name,a=t.slug,r=t.images,s=t.price;return Object(n.jsxs)("article",{className:"room",children:[Object(n.jsxs)("div",{className:"img-container",children:[Object(n.jsx)("img",{src:r[0],alt:"single-room"}),Object(n.jsxs)("div",{className:"price-top",children:[Object(n.jsxs)("h6",{children:["Rs",s]}),Object(n.jsx)("p",{children:"per night"})]}),Object(n.jsx)(d.b,{to:"/rooms/".concat(a),className:"btn-primary room-link",children:"Features"})]}),Object(n.jsx)("p",{className:"room-info",children:c})]})},z=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"render",value:function(){var e=this.context,t=e.loading,c=e.featuredRooms;return c=c.map((function(e){return Object(n.jsx)(P,{room:e},e.id)})),Object(n.jsxs)("section",{className:"featured-rooms",children:[Object(n.jsx)(O,{title:"Featured rooms"}),Object(n.jsx)("div",{className:"featured-rooms-center",children:t?Object(n.jsx)(E,{}):c})]})}}]),c}(a.Component);z.contextType=R;var A=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{children:Object(n.jsx)(l,{title:"luxurious rooms",subtitle:"deluxe room starting at Rs.20000",children:Object(n.jsx)(d.b,{to:"/rooms",className:"btn-primary",children:"Our rooms"})})}),Object(n.jsx)(p,{}),Object(n.jsx)(z,{})]})};var D=function(){return Object(n.jsx)(j,{children:Object(n.jsx)(l,{title:"404",subtitle:"Page Not Found",children:Object(n.jsx)(d.b,{to:"/",className:"btn-primrary",children:" Return Home"})})})},w=function(e,t){return Object(N.a)(new Set(e.map((function(e){return e[t]}))))};var H=function(e){var t=e.rooms,c=Object(a.useContext)(R),r=c.handleChange,s=c.type,i=c.capacity,o=c.price,j=c.minPrice,l=c.maxPrice,d=c.minSize,b=c.maxSize,m=c.breakfast,u=c.pets,h=w(t,"type");h=(h=["all"].concat(Object(N.a)(h))).map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}));var x=w(t,"capacity");return x=x.map((function(e,t){return Object(n.jsxs)("option",{value:e,children:[e," "]},t)})),Object(n.jsxs)("section",{className:"filter-container",children:[Object(n.jsx)(O,{title:"search room"}),Object(n.jsxs)("form",{className:"filter-form",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"type",children:"Room type"}),Object(n.jsx)("select",{name:"type",id:"type",value:s,className:"form-control",onChange:r,children:h})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"capacity",children:"Guest"}),Object(n.jsx)("select",{name:"capacity",id:"capacity",value:i,className:"form-control",onChange:r,children:x})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("label",{htmlFor:"price",children:["room price rs ",o]}),Object(n.jsx)("input",{type:"range",name:"price",min:j,max:l,id:"price",value:o,onChange:r,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"size",children:"room size"}),Object(n.jsxs)("div",{className:"size-inputs",children:[Object(n.jsx)("input",{type:"number",name:"minSize",id:"size",value:d,onChange:r,className:"size-input"}),Object(n.jsx)("input",{type:"number",name:"maxSize",id:"size",value:b,onChange:r,className:"size-input"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("div",{className:"single-extra",children:[Object(n.jsx)("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:m,onChange:r}),Object(n.jsx)("label",{htmlFor:"breakfast",children:"breakfast"})]}),Object(n.jsxs)("div",{className:"single-extra",children:[Object(n.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:u,onChange:r}),Object(n.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})]})};var I=function(e){var t=e.rooms;return 0===t.lenth?Object(n.jsx)("div",{className:"empty-search",children:Object(n.jsx)("h3",{children:" Unfortunately , No rooms found in your search parameters!"})}):Object(n.jsx)("section",{className:"rooms-list",children:Object(n.jsx)("div",{className:"roomslist-center",children:t.map((function(e){return Object(n.jsx)(P,{room:e},e.id)}))})})};var K,L=(K=function(e){var t=e.context,c=t.loading,a=t.sortedRooms,r=t.rooms;return c?Object(n.jsx)(E,{}):Object(n.jsxs)("div",{children:["rooms container",Object(n.jsx)(H,{rooms:r}),Object(n.jsx)(I,{rooms:a})]})},function(e){return Object(n.jsx)(_,{children:function(t){return Object(n.jsx)(K,Object(f.a)(Object(f.a)({},e),{},{context:t}))}})});var W=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{hero:"roomsHero",children:Object(n.jsx)(l,{title:"Our Rooms",children:Object(n.jsx)(d.b,{to:"/",className:"btn-primary",children:"Return Home"})})}),Object(n.jsx)(L,{})]})},M=c(86);function U(){var e=Object(M.a)(["\nmin-height: calc(100vh - 66px);\nbackground: url(",") center/cover no-repeat;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n"]);return U=function(){return e},e}var B=c(87).a.header(U(),(function(e){return e.img})),J=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e){var n;return Object(b.a)(this,c),(n=t.call(this,e)).state={slug:n.props.match.params.slug},n}return Object(m.a)(c,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return Object(n.jsxs)("div",{className:"error",children:[Object(n.jsx)("h3",{children:"No such room could be found!"}),Object(n.jsx)(d.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})]});var t=e.name,c=e.description,a=e.capacity,r=e.size,s=e.price,i=e.extras,o=e.breakfast,j=e.pets,b=e.images;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(B,{img:b[0],children:Object(n.jsx)(l,{title:"".concat(t," room"),children:Object(n.jsx)(d.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})})}),Object(n.jsxs)("section",{className:"single-room",children:[Object(n.jsx)("div",{className:"single-room-images",children:b.map((function(e,c){return Object(n.jsx)("img",{src:e,alt:t},c)}))}),Object(n.jsxs)("div",{className:"single-room-info",children:[Object(n.jsxs)("article",{className:"desc",children:[Object(n.jsx)("h3",{children:"details"}),Object(n.jsx)("p",{children:c})]}),Object(n.jsxs)("article",{className:"info",children:[Object(n.jsx)("h3",{children:"info"}),Object(n.jsxs)("h6",{children:["price : Rs",s]}),Object(n.jsxs)("h6",{children:["size : $",r," SQFT"]}),Object(n.jsxs)("h6",{children:["max capacity : ","".concat(a,a>1?" people":" person")]}),Object(n.jsxs)("h6",{children:[" ",j?"pets allowed ":"no pets allowed"]}),Object(n.jsx)("h6",{children:o&&"free breakfast included"})]})]})]}),Object(n.jsxs)("section",{className:"room-extras",children:[Object(n.jsx)("h6",{children:"extras"}),Object(n.jsx)("ul",{className:"extras",children:i.map((function(e,t){return Object(n.jsxs)("li",{children:["-",e," "]},t)}))})]})]})}}]),c}(a.Component);J.contextType=R;var V=c(3),G=c.p+"static/media/logo.87947b58.svg",Q=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(b.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(m.a)(c,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)("div",{className:"nav-center",children:[Object(n.jsxs)("div",{className:"nav-header",children:[Object(n.jsx)(d.b,{to:"/",children:Object(n.jsx)("img",{src:G,alt:"our logo"})}),Object(n.jsx)("button",{type:"button",className:"nav-btn",onClick:this.handleToggle,children:Object(n.jsx)(x.a,{className:"nav-icon"})})]}),Object(n.jsxs)("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links",children:[Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/rooms",children:"Rooms"})})]})]})})}}]),c}(a.Component);var $=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(Q,{}),Object(n.jsxs)(V.c,{children:[Object(n.jsx)(V.a,{exact:!0,path:"/",component:A}),Object(n.jsx)(V.a,{exact:!0,path:"/rooms",component:W}),Object(n.jsx)(V.a,{exact:!0,path:"/rooms/:slug",component:J}),Object(n.jsx)(V.a,{component:D})]})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,196)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(T,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)($,{})})}),document.getElementById("root")),q()},49:function(e,t){},97:function(e,t,c){}},[[195,1,2]]]);
//# sourceMappingURL=main.40ecba9c.chunk.js.map